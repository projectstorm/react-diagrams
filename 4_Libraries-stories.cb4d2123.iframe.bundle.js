"use strict";(self.webpackChunk_projectstorm_react_diagrams_gallery=self.webpackChunk_projectstorm_react_diagrams_gallery||[]).push([[117],{"./demos/4_Libraries.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{DagreDistribute:()=>DagreDistribute,GsapAnimation:()=>GsapAnimation,__namedExportsOrder:()=>__namedExportsOrder,default:()=>_4_Libraries_stories});var dist=__webpack_require__("../packages/react-canvas-core/dist/index.js"),react_diagrams_dist=__webpack_require__("../packages/react-diagrams/dist/index.js"),react=__webpack_require__("../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),DemoWorkspaceWidget=__webpack_require__("./demos/helpers/DemoWorkspaceWidget.tsx"),DemoCanvasWidget=__webpack_require__("./demos/helpers/DemoCanvasWidget.tsx"),jsx_runtime=__webpack_require__("../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");function createNode(name){return new react_diagrams_dist.Fs(name,"rgb(0,192,255)")}let count=0;function connectNodes(nodeFrom,nodeTo,engine){count++;const portOut=nodeFrom.addPort(new react_diagrams_dist.Gi(!0,`${nodeFrom.name}-out-${count}`,"Out")),portTo=nodeTo.addPort(new react_diagrams_dist.Gi(!1,`${nodeFrom.name}-to-${count}`,"IN"));return portOut.link(portTo)}function genDagreEngine(){return new react_diagrams_dist.z6({graph:{rankdir:"RL",ranker:"longest-path",marginx:25,marginy:25},includeLinks:!0,nodeMargin:25})}function autoDistribute(engine){const model=engine.getModel();genDagreEngine().redistribute(model),reroute(engine),engine.repaintCanvas()}function reroute(engine){engine.getLinkFactories().getFactory(react_diagrams_dist.xU.NAME).calculateRoutingMatrix()}function DemoWidget(props){const engine=props.engine;(0,react.useLayoutEffect)((()=>{autoDistribute(engine)}),[]);return(0,jsx_runtime.jsx)(DemoWorkspaceWidget.F,{buttons:(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)(DemoWorkspaceWidget.R,{onClick:()=>{autoDistribute(engine)},children:"Re-distribute"}),(0,jsx_runtime.jsx)(DemoWorkspaceWidget.R,{onClick:()=>{!function autoRefreshLinks(engine){const model=engine.getModel();genDagreEngine().refreshLinks(model),reroute(engine),engine.repaintCanvas()}(engine)},children:"Refresh Links"})]}),children:(0,jsx_runtime.jsx)(DemoCanvasWidget._,{children:(0,jsx_runtime.jsx)(dist.JE,{engine})})})}DemoWidget.displayName="DemoWidget";var gsap=__webpack_require__("../node_modules/.pnpm/gsap@3.12.2/node_modules/gsap/index.js");class NodeDelayedPosition extends react.Component{constructor(props){super(props)}render(){const{engine}=this.props;return(0,jsx_runtime.jsx)(DemoWorkspaceWidget.F,{children:(0,jsx_runtime.jsx)(DemoCanvasWidget._,{children:(0,jsx_runtime.jsx)(dist.JE,{engine})})})}}NodeDelayedPosition.displayName="NodeDelayedPosition";dist.C7.TESTING=!0;const _4_Libraries_stories={title:"External Libs"},DagreDistribute=()=>{let engine=(0,react.useRef)((0,react_diagrams_dist.ZP)()).current,model=new react_diagrams_dist.Vm,nodesFrom=[],nodesTo=[];nodesFrom.push(createNode("from-1")),nodesFrom.push(createNode("from-2")),nodesFrom.push(createNode("from-3")),nodesTo.push(createNode("to-1")),nodesTo.push(createNode("to-2")),nodesTo.push(createNode("to-3"));let links=nodesFrom.map(((node,index)=>connectNodes(node,nodesTo[index])));return links.push(connectNodes(nodesTo[0],nodesTo[1])),links.push(connectNodes(nodesTo[1],nodesTo[2])),links.push(connectNodes(nodesTo[0],nodesTo[2])),links.push(connectNodes(nodesFrom[0],nodesFrom[2])),links.push(connectNodes(nodesFrom[0],nodesTo[2])),nodesFrom.forEach(((node,index)=>{node.setPosition(70*index,70*index),model.addNode(node)})),nodesTo.forEach(((node,index)=>{node.setPosition(70*index,100),model.addNode(node)})),links.forEach((link=>{model.addLink(link)})),engine.setModel(model),(0,jsx_runtime.jsx)(DemoWidget,{model,engine})},GsapAnimation=()=>{var engine=(0,react_diagrams_dist.ZP)({repaintDebounceMs:12}),model=new react_diagrams_dist.Vm,node1=new react_diagrams_dist.Fs("Node 1","rgb(0,192,255)"),port1=node1.addOutPort("Out");node1.setPosition(100,100);var node2=new react_diagrams_dist.Fs("Node 2","rgb(192,255,0)"),port2=node2.addInPort("In");node2.setPosition(400,100);var node3=new react_diagrams_dist.Fs("Node 3","rgb(192,255,0)");node2.setPosition(200,300);var node4=new react_diagrams_dist.Fs("Node 4","rgb(192,255,0)");node2.setPosition(400,400);var link1=port1.link(port2);model.addAll(node1,node2,link1,node3,node4),engine.setModel(model);setInterval((()=>{[node1,node2,node3,node4].map((node=>{var obj={x:0,y:0};gsap.ZP.fromTo(obj,{x:node.getPosition().x,y:node.getPosition().y},{x:Math.floor(500*Math.random()),y:Math.floor(500*Math.random()),duration:.8,onUpdate:()=>{node.setPosition(obj.x,obj.y),engine.repaintCanvas()}})}))}),2e3);return(0,jsx_runtime.jsx)(NodeDelayedPosition,{engine,model})},__namedExportsOrder=["DagreDistribute","GsapAnimation"]},"./demos/helpers/DemoWorkspaceWidget.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{F:()=>DemoWorkspaceWidget,R:()=>DemoButton});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),_emotion_styled__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../node_modules/.pnpm/@emotion+styled@11.11.0_@emotion+react@11.11.1_@types+react@18.2.22_react@18.2.0/node_modules/@emotion/styled/dist/emotion-styled.browser.esm.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");let S;var _S;(_S=S||(S={})).Toolbar=_emotion_styled__WEBPACK_IMPORTED_MODULE_1__.Z.div`
		padding: 5px;
		display: flex;
		flex-shrink: 0;
	`,_S.Content=_emotion_styled__WEBPACK_IMPORTED_MODULE_1__.Z.div`
		flex-grow: 1;
		height: 100%;
	`,_S.Container=_emotion_styled__WEBPACK_IMPORTED_MODULE_1__.Z.div`
		background: black;
		display: flex;
		flex-direction: column;
		height: 100%;
		border-radius: 5px;
		overflow: hidden;
	`;const DemoButton=_emotion_styled__WEBPACK_IMPORTED_MODULE_1__.Z.button`
	background: rgb(60, 60, 60);
	font-size: 14px;
	padding: 5px 10px;
	border: none;
	color: white;
	outline: none;
	cursor: pointer;
	margin: 2px;
	border-radius: 3px;

	&:hover {
		background: rgb(0, 192, 255);
	}
`;class DemoWorkspaceWidget extends react__WEBPACK_IMPORTED_MODULE_0__.Component{render(){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(S.Container,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(S.Toolbar,{children:this.props.buttons}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(S.Content,{children:this.props.children})]})}}DemoWorkspaceWidget.displayName="DemoWorkspaceWidget"}}]);
//# sourceMappingURL=4_Libraries-stories.cb4d2123.iframe.bundle.js.map